{"version":3,"file":"index.43f89c27.js","sources":["../../vite/modulepreload-polyfill","../../src/components/Headers/SlashesV2Header.svelte","../../src/components/Headers/ArcsHeader.svelte","../../src/components/Header.svelte","../../src/components/Footer.svelte","../../vite/preload-helper","../../utils/deployments.js","../../src/lib/constants.js","../../src/lib/api.js","../../src/store.js","../../src/lib/contract.js","../../utils/networks.js","../../src/lib/wallet.js","../../src/components/ConnectWallet.svelte","../../src/components/InfoBubbles.svelte","../../src/components/Message.svelte","../../src/components/Prompt.svelte","../../src/components/clickOutside.js","../../src/components/Shape/Attributes.svelte","../../src/lib/twitter.js","../../src/lib/opensea.js","../../src/components/Shape/ShareButtons.svelte","../../src/components/Shape/ChangeShape.svelte","../../src/components/Shape/ChangeSeed.svelte","../../src/components/Shape/SwapSlash.svelte","../../src/lib/helpers.js","../../src/components/Shape/Modal.svelte","../../src/layouts/SingleShape.svelte","../../src/layouts/SingleSlash.svelte","../../src/components/Shape/Loading.svelte","../../src/components/Shape/Thumbnail.svelte","../../src/layouts/MySlashes.svelte","../../src/layouts/MyShapes.svelte","../../src/components/Search.svelte","../../src/layouts/AllShapes.svelte","../../src/App.svelte","../../src/main.js"],"sourcesContent":["const p = function polyfill() {\n    const relList = document.createElement('link').relList;\n    if (relList && relList.supports && relList.supports('modulepreload')) {\n        return;\n    }\n    for (const link of document.querySelectorAll('link[rel=\"modulepreload\"]')) {\n        processPreload(link);\n    }\n    new MutationObserver((mutations) => {\n        for (const mutation of mutations) {\n            if (mutation.type !== 'childList') {\n                continue;\n            }\n            for (const node of mutation.addedNodes) {\n                if (node.tagName === 'LINK' && node.rel === 'modulepreload')\n                    processPreload(node);\n            }\n        }\n    }).observe(document, { childList: true, subtree: true });\n    function getFetchOpts(script) {\n        const fetchOpts = {};\n        if (script.integrity)\n            fetchOpts.integrity = script.integrity;\n        if (script.referrerpolicy)\n            fetchOpts.referrerPolicy = script.referrerpolicy;\n        if (script.crossorigin === 'use-credentials')\n            fetchOpts.credentials = 'include';\n        else if (script.crossorigin === 'anonymous')\n            fetchOpts.credentials = 'omit';\n        else\n            fetchOpts.credentials = 'same-origin';\n        return fetchOpts;\n    }\n    function processPreload(link) {\n        if (link.ep)\n            // ep marker = processed\n            return;\n        link.ep = true;\n        // prepopulate the load record\n        const fetchOpts = getFetchOpts(link);\n        fetch(link.href, fetchOpts);\n    }\n};__VITE_IS_MODERN__&&p();","<script>\n  export let isLoaded\n</script>\n\n<h1\n    style=\"font-size: calc(min(8vw, 100px))\"\n    class=\"font-black uppercase tracking-none drop-shadow-[0_8px_16px_rgba(0,0,0,0.5)] [&>*]:inline-block [&>*]:tracking-[.5em] [&>*]:transition [&>*]:duration-[1.5s] [&>*]:ease-out whitespace-nowrap\"\n  >\n    <span class=\"delay-[1.5s] {isLoaded ? '' : 'opacity-0 translate-y-16'}\">S</span>\n    <span class=\"delay-[1.4s] {isLoaded ? '' : 'opacity-0 -translate-y-24'}\">l</span>\n    <span class=\"delay-[1.3s] {isLoaded ? '' : 'opacity-0 translate-y-20'}\">a</span>\n    <span class=\"delay-[1.2s] {isLoaded ? '' : 'opacity-0 -translate-y-16'}\">s</span>\n    <span class=\"delay-[1.5s] {isLoaded ? '' : 'opacity-0 translate-y-24'}\">h</span>\n    <span class=\"delay-[1.3s] {isLoaded ? '' : 'opacity-0 -translate-y-20'}\">e</span>\n    <span class=\"!tracking-normal delay-[1.4s] {isLoaded ? '' : 'opacity-0 translate-y-16'}\">s</span>\n    <span\n      class=\"text-gray-800 ml-2 sm:ml-3 md:ml-4 -mr-12 delay-[2s] px-2 sm:px-3 md:px-4 bg-[#f6b855] rounded-lg !tracking-normal {isLoaded\n        ? '-translate-y-8 sm:-translate-y-10 md:-translate-y-12'\n        : 'opacity-0 -translate-y-24'}\"\n      style=\"font-size: calc(min(4vw, 32px))\"\n    >\n      v2\n    </span>\n  </h1>","<script>\n  export let isLoaded\n</script>\n\n<h1\n    style=\"font-size: calc(min(8vw, 100px))\"\n    class=\"font-black uppercase tracking-none drop-shadow-[0_8px_16px_rgba(0,0,0,0.5)] [&>*]:inline-block [&>*]:tracking-[.5em] [&>*]:transition [&>*]:duration-[1.5s] [&>*]:ease-out whitespace-nowrap\"\n  >\n    <span class=\"delay-[1.5s] {isLoaded ? '' : 'opacity-0 translate-y-16'}\">A</span>\n    <span class=\"delay-[1.4s] {isLoaded ? '' : 'opacity-0 -translate-y-20'}\">R</span>\n    <span class=\"delay-[1.3s] {isLoaded ? '' : 'opacity-0 translate-y-20'}\">C</span>\n    <span class=\"delay-[1.3s] {isLoaded ? '' : 'opacity-0 -translate-y-16'}\">S</span>\n</h1>","<script>\n  import { onMount } from 'svelte'\n  import SlashesV2Header from './Headers/SlashesV2Header.svelte'\n  import ArcsHeader from './Headers/ArcsHeader.svelte'\n\n  let isLoaded = false\n\n  onMount(() => {\n    setTimeout(() => {\n      isLoaded = true\n    }, 0)\n  })\n\n  export let shapeType\n</script>\n\n<header class=\"text-center\">\n  \n  {#if shapeType == \"Arcs\"}\n    <ArcsHeader {isLoaded}/>\n  {/if}\n  {#if shapeType == \"SlashesV2\"}\n    <SlashesV2Header {isLoaded}/>\n  {/if}\n\n  <h2\n    class=\"max-w-sm md:max-w-lg mx-auto mt-8 xl:mt-12 sm:text-xl md:text-2xl !leading-relaxed drop-shadow-[0_8px_16px_rgba(0,0,0,0.25)] transition duration-1000 delay-[2.5s] {isLoaded\n      ? ''\n      : 'opacity-0 translate-y-4'}\"\n  >\n    A collection of 100% on-chain generative art pieces by <a\n      href=\"https://twitter.com/makio135\"\n      target=\"_blank\"\n      class=\"text-[#f6b855] decoration-dashed underline hover:decoration-solid underline-offset-4\">makio135</a\n    >\n    and\n    <a\n      href=\"https://twitter.com/clemsos\"\n      target=\"_blank\"\n      class=\"text-[#f6b855] decoration-dashed underline hover:decoration-solid underline-offset-4\">clemsos</a\n    >.\n  </h2>\n</header>\n","<script>\n\tconst year = new Date().getFullYear();\n</script>\n<footer class=\"sm:px-6 md:px-8 py-10 xl:py-12\">\n  <p class=\"max-w mt-2 text-sm text-right text-gray-400\">\n     &copy; <a href=\"mailto:shapes@makio135.io\">shapes@makio135.io</a> - {year} \n  </p>\n</footer>","const scriptRel = 'modulepreload';const seen = {};const base = '';export const __vitePreload = function preload(baseModule, deps) {\n    // @ts-ignore\n    if (!__VITE_IS_MODERN__ || !deps || deps.length === 0) {\n        return baseModule();\n    }\n    return Promise.all(deps.map((dep) => {\n        // @ts-ignore\n        dep = `${base}${dep}`;\n        // @ts-ignore\n        if (dep in seen)\n            return;\n        // @ts-ignore\n        seen[dep] = true;\n        const isCss = dep.endsWith('.css');\n        const cssSelector = isCss ? '[rel=\"stylesheet\"]' : '';\n        // @ts-ignore check if the file is already preloaded by SSR markup\n        if (document.querySelector(`link[href=\"${dep}\"]${cssSelector}`)) {\n            return;\n        }\n        // @ts-ignore\n        const link = document.createElement('link');\n        // @ts-ignore\n        link.rel = isCss ? 'stylesheet' : scriptRel;\n        if (!isCss) {\n            link.as = 'script';\n            link.crossOrigin = '';\n        }\n        link.href = dep;\n        // @ts-ignore\n        document.head.appendChild(link);\n        if (isCss) {\n            return new Promise((res, rej) => {\n                link.addEventListener('load', res);\n                link.addEventListener('error', rej);\n            });\n        }\n    })).then(() => baseModule());\n}","// load all deployments\nconst deployments = import.meta.glob('../../smart-contracts/deployments/**/*.json')\n\nconst chains = {\n    rinkeby: 4,\n    ropsten: 3,\n    mainnet: 1,\n}\n\nexport const getNetworkName = (chainId) => {\n    if (chainId === 31337) { // for hardhat\n        return 'localhost'\n    }\n\n    const networkName = Object.keys(chains).find((k) => chains[k] === chainId)\n    if (!networkName) throw new Error(`Network ${chainId} not supported.`)\n    return networkName\n}\n\nexport const getDeployment = async (chainId, contractName) => {\n\n    if (!contractName) throw new Error(`Missing contract name.`)\n    if (!chainId) throw new Error(`Missing chain Id.`)\n\n    const networkName = getNetworkName(chainId)\n    const deploymentPath = `../../smart-contracts/deployments/${networkName}/${contractName}.json`\n    \n    return await deployments[deploymentPath]()\n}","import { ethers } from 'ethers'\n\nexport const DEFAULT_NETWORK = 1\nexport const UNIT_PRICE = ethers.utils.parseEther('.2')\n\nexport const SLASHES_IMAGE_BASE_URL = 'https://raw.githubusercontent.com/MAKIO135/slashes-exports/main'\n\nexport const PROD_API_BASE_URL = 'https://shapes.makio135.io/'\nexport const DEV_API_BASE_URL = 'http://localhost:8080/'\n\nexport const API_BASE_URL = import.meta.env.VITE_USE_LOCALHOST ? DEV_API_BASE_URL : PROD_API_BASE_URL\n\n// TODO: fetch from contract\nexport const SHAPE_NAMES = ['Slashes v2', 'Arcs']\nexport const DEFAULT_SHAPE = 0\n\nexport const CURRENT_UI_SHAPE = 'SlashesV2' \n// export const CURRENT_UI_SHAPE = 'Arcs'\n\nexport const BLOCK_EXPLORERS = {\n  1: 'https://etherscan.io',\n  4: 'https://rinkeby.etherscan.io',\n}\n\nexport const SHAPES_PER_PAGE = 12\n","import { API_BASE_URL, SLASHES_IMAGE_BASE_URL } from './constants'\nimport { SHAPES_PER_PAGE, CURRENT_UI_SHAPE } from '../lib/constants';\nconsole.log(`Server at: ${API_BASE_URL}`)\n\nexport const fetchShapesByIds = async (ids = []) => {\n  const res = await fetch(`${API_BASE_URL}?ids=${ids.join()}`)\n  const { tokens } = await res.json()\n  return tokens\n}\n\nexport const fetchShapes = async (\n  limit = SHAPES_PER_PAGE, \n  offset = 0, \n  shape = CURRENT_UI_SHAPE\n) => {\n  const res = await fetch(`${API_BASE_URL}?limit=${limit}&offset=${offset}&shape=${shape}`)\n  const { tokens } = await res.json()\n  return tokens\n}\n\nexport const fetchCount = async (shape = CURRENT_UI_SHAPE) => {\n  const res = await fetch(`${API_BASE_URL}count?shape=${shape}`)\n  const { count } = await res.json()\n  return count\n}\n\n// this will fetch the token from the API \n// API will fetch from contract if the token can not be found in db\n// pass force=true to force recreate the thumb\nexport const fetchToken = async (tokenId, force = false) => {\n  const url = `${API_BASE_URL}shapes/${tokenId}${force ? '?force=true' : ''}`\n  const res = await fetch(url)\n  const token = await res.json()\n  return token\n}\n\nexport const updateAllTokens = async () => {\n  const res = await fetch(`${API_BASE_URL}historical`, { method : 'POST' })\n  console.log(await res.text())\n}\n\nexport const getShapesPNG = ({ tokenId, seeds }) => `${API_BASE_URL}/png/${tokenId}-${seeds[seeds.length-1]}.png`\n\n// slashes stuff\nexport const getSlashesPNG = (tokenId) => `${SLASHES_IMAGE_BASE_URL}/png/${tokenId}.png`\nexport const getSlashesSVG = (tokenId) => `${SLASHES_IMAGE_BASE_URL}/svg/${tokenId}.svg`\n\nexport const fetchSlashes = async () => {\n  const resp = await fetch(`${API_BASE_URL}slashes`)\n  const { slashes } = await resp.json()\n  return slashes\n}\n","import { writable, derived } from 'svelte/store'\nimport { fetchSlashes, fetchShapes, updateAllTokens } from './lib/api'\n\n// get all slashes from API\nexport const slashes = writable([])\nfetchSlashes().then((slashesData) => {\n  slashes.set(slashesData.map((data, i) => ({ ...data, tokenId: i + 1 })))\n})\n\n// fetch slashes\nexport const shapes = writable([])\nfetchShapes().then((shapesData) => {\n  const missing = shapesData.filter(({ missing }) => missing).length !== 0\n  // send as non blocking\n  if(missing) updateAllTokens()\n  // set actual data \n  shapes.set(shapesData.map((data) => ({ ...data })))\n})\n\n// error message or info\nexport const message = writable('')\n\n// filter shapes\nexport const searchTerm = writable('')\nexport const filterShapeType = writable('')\n\nexport const filteredShapes = derived(\n  [shapes, searchTerm, filterShapeType],\n  ([$shapes, $searchTerm, $filterType]) => {\n    return $shapes.length ? \n      $shapes.filter(({ tokenId, shape }) => \n        `${tokenId}`.includes($searchTerm)\n        &&\n        (shape === $filterType || $filterType === 'all' || $filterType === '')\n      )\n      .sort((a, b) => a.tokenId - b.tokenId)\n      :\n      []\n  }\n)\n\n// user data\nexport const myShapes = writable([])\n\nexport const mySlashesIds = writable([])\nexport const mySlashes = derived(\n  [slashes, mySlashesIds],\n  ([$slashes, $mySlashesIds]) => \n    $slashes.filter(({ tokenId }) => \n      $mySlashesIds.includes(tokenId)\n    )\n  )\n\n// show a single token \n// [number tokenId, bool isSlashes]\nexport const shownTokenId = writable([0, false])\n\n\nexport const isDoingSthImportant = writable(false)","import { contracts } from 'svelte-ethers-store'\nimport { getDeployment, getNetworkName } from '../../utils/deployments'\nimport { message } from '../store'\nimport { BLOCK_EXPLORERS, DEFAULT_NETWORK } from './constants'\n\n\nexport const getContractInfo = async (chainId, contractName = 'Shapes') => {\n  // make sure we have deployed contract address\n  let manifest\n  try {\n    manifest = await getDeployment(chainId, contractName)\n  } catch (error) {\n    if (error.message.includes('not supported')) {\n      message.set(`Network ${chainId} not supported.`)\n    } else {\n      message.set(`Could not find contract info for ${getNetworkName(chainId)}`)\n    }\n  }\n  return manifest\n}\n\nexport const fetchTokenURI = async (tokenId) => {\n  console.log('Fetching tokenURI from chain...')\n  const tokenURI = await contracts.shapes.tokenURI(tokenId)\n  const json = JSON.parse(\n    window.atob(\n      tokenURI.replace('data:application/json;base64,', '')\n      , \"base64\"\n    )\n  )\n  return {\n    ...json, tokenId\n  }\n}\n\nexport const getTxUrl = (txHash, network = DEFAULT_NETWORK) => `${BLOCK_EXPLORERS[network]}/tx/${txHash}`\nexport const getAddressUrl = (address, network = DEFAULT_NETWORK) => `${BLOCK_EXPLORERS[network]}/address/${address}`","export default {\n  31337: 'https://127.0.0.1:8545', // hardhat\n  1: 'https://eth-mainnet.alchemyapi.io/v2/7DckTFOvipKBLyeNEP4B9KcmkSXEl0Kd', // mainnet\n  4: 'https://eth-rinkeby.alchemyapi.io/v2/OQmX1t68Pds93uctI8XVOHG214yNtpcO', //rinkeby\n}","import { Buffer } from 'buffer'\nimport { ethers } from 'ethers'\nimport WalletConnectProvider from '@walletconnect/web3-provider'\nimport Web3Modal from 'web3modal'\nimport { defaultEvmStores } from 'svelte-ethers-store'\n\nwindow.Buffer = Buffer\n\nimport { getContractInfo } from './contract'\nimport rpc from '../../utils/networks'\nimport { message } from '../store'\n\nconst providerOptions = {\n  // cacheProvider: false, // prevent from caching\n  walletconnect: {\n    package: WalletConnectProvider, // required\n    options: {\n      rpc, // required\n    },\n  },\n}\nconst web3Modal = new Web3Modal({\n  network: 'rinkeby', // optional\n  cacheProvider: true, // optional\n  theme: 'dark',\n  providerOptions, // required\n})\n\nexport const connectWallet = async () => {\n  try {\n    console.log('Connecting to wallet...')\n    const instance = await web3Modal.connect()\n    const provider = new ethers.providers.Web3Provider(instance)\n\n    // set svelte state\n    await defaultEvmStores.setProvider(provider)\n    \n    const { chainId } = await provider.getNetwork()\n\n    // attach Shapes contract\n    const { address, abi } = await getContractInfo(chainId)\n    console.log(`SHAPES contract: ${address}`)\n    await defaultEvmStores.attachContract('shapes', address, abi)\n\n    // attach Slashes contract\n    const { address: slashesAddress, abi: slashesAbi } = await getContractInfo(chainId, 'SlashesNFT')\n    console.log(`SLASHES contract: ${slashesAddress}`)\n    await defaultEvmStores.attachContract('slashes', slashesAddress, slashesAbi)\n  } catch (e) {\n    if (e.code == '4001') {\n      message.set(e.message)\n    } else {\n      message.set(\"Couldn't get the wallet connection\")\n    }\n    message.set(\"Couldn't get a wallet connection\")\n    console.log(e)\n  }\n}\n","<script>\n  \n  import { connected, signerAddress } from 'svelte-ethers-store'\n  import { connectWallet } from '../lib/wallet'\n  import { DEFAULT_NETWORK } from '../lib/constants';\n\n  const networkName = DEFAULT_NETWORK === 4 ? 'Rinkeby' : 'Mainnet'\n  async function handleClick() {\n    await connectWallet()\n  }\n</script>\n\n<button\n  id=\"connect-wallet\"\n  on:click={handleClick}\n  disabled={$connected}\n  class=\"inline-flex gap-2 text-base shadow-2xl text-left text-black transition-all duration-150 rounded-md p-4 pointer-events-auto {!$connected\n    ? 'bg-[#F6B855] hover:brightness-110'\n    : 'bg-white'}\"\n>\n  {#if !$connected}\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      class=\"w-6 h-6 fill-transparent stroke-current ml-2\"\n      viewBox=\"0 0 24 24\"\n      stroke-width=\"1.5\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    >\n      <path\n        d=\"M17 8v-3a1 1 0 0 0 -1 -1h-10a2 2 0 0 0 0 4h12a1 1 0 0 1 1 1v3m0 4v3a1 1 0 0 1 -1 1h-12a2 2 0 0 1 -2 -2v-12\"\n      />\n      <path d=\"M20 12v4h-4a2 2 0 0 1 0 -4h4\" />\n    </svg>\n    <span class=\"mr-2\">Connect your wallet</span>\n  {:else}\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      class=\"w-6 h-6 fill-transparent stroke-current mr-1\"\n      viewBox=\"0 0 24 24\"\n      stroke-width=\"1.5\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    >\n      <path d=\"M4 8v-2a2 2 0 0 1 2 -2h2\" />\n      <path d=\"M4 16v2a2 2 0 0 0 2 2h2\" />\n      <path d=\"M16 4h2a2 2 0 0 1 2 2v2\" />\n      <path d=\"M16 20h2a2 2 0 0 0 2 -2v-2\" />\n      <line x1=\"9\" y1=\"10\" x2=\"9.01\" y2=\"10\" />\n      <line x1=\"15\" y1=\"10\" x2=\"15.01\" y2=\"10\" />\n      <path d=\"M9.5 15a3.5 3.5 0 0 0 5 0\" />\n    </svg>\n    <div class=\"-my-1.5\">\n      <p class=\"leading-tight text-sm md:text-base\">\n        Connected as {`${$signerAddress.slice(0, 6)}…${$signerAddress.slice(-4)}`}\n      </p>\n      <p class=\"text-sm opacity-50 leading-tight\">on {networkName}</p>\n      <!-- TODO: show actual network? -->\n    </div>\n  {/if}\n</button>\n","<script>\n  import { onMount } from 'svelte'\n  import { DEFAULT_NETWORK } from '../lib/constants'\n  import { getAddressUrl, getContractInfo } from '../lib/contract'\n\n  let isLoaded = false\n  let shapesEtherscanURL\n\n  //\n  onMount(async () => {\n    // parse contract address\n    const { address } = await getContractInfo(DEFAULT_NETWORK)\n    shapesEtherscanURL = getAddressUrl(address)\n\n    setTimeout(() => {\n      isLoaded = true\n    }, 0)\n  })\n</script>\n\n<section\n  class=\"grid max-w-sm grid-cols-1 gap-4 mx-auto mt-16 md:mt-20 xl:mt-24 md:gap-6 md:max-w-full md:grid-cols-2 xl:gap-8 xl:grid-cols-3\"\n>\n  <div\n    class=\"p-4 overflow-hidden bg-white/15 backdrop-blur-xl transition duration-1000 delay-[3s] {isLoaded\n      ? ''\n      : 'opacity-0 translate-y-4'} rounded-xl text-[#f04141]\"\n  >\n    <div class=\"absolute inset-0 w-full h-px bg-gradient-to-r from-transparent via-white/20\" />\n    <div class=\"flex gap-4\">\n      <div\n        class=\"flex items-center justify-center flex-none w-10 h-10 border rounded border-[#f04141]/25 bg-[#f04141]/15\"\n      >\n        <svg\n          class=\"w-6 h-6 stroke-current\"\n          viewBox=\"0 0 24 24\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          stroke-width=\"1.5\"\n          stroke-linecap=\"round\"\n          stroke-linejoin=\"round\"\n        >\n          <path d=\"M3 17L12 21L21 17L12 3L3 17Z\" />\n          <path d=\"M12 3V21\" />\n        </svg>\n      </div>\n      <div>\n        <h3 class=\"md:text-lg font-semibold\">Shapes Meta Collection</h3>\n        <p class=\"mt-1 text-sm leading-relaxed text-gray-50\">\n          A growing collection of generative contracts allowing to migrate your tokens between different shapes.\n        </p>\n      </div>\n    </div>\n  </div>\n\n  <div\n    class=\"p-4 overflow-hidden bg-white/15 backdrop-blur-xl transition duration-1000 delay-[3.1s] {isLoaded\n      ? ''\n      : 'opacity-0 translate-y-4'} rounded-xl text-[#f6b855]\"\n  >\n    <div class=\"absolute inset-0 w-full h-px bg-gradient-to-r from-transparent via-white/20\" />\n    <div class=\"flex gap-4\">\n      <div\n        class=\"flex items-center justify-center flex-none w-10 h-10 border rounded border-[#f6b855]/25 bg-[#f6b855]/15\"\n      >\n        <svg\n          class=\"w-6 h-6 stroke-current\"\n          viewBox=\"0 0 24 24\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          stroke-width=\"1.5\"\n          stroke-linecap=\"round\"\n          stroke-linejoin=\"round\"\n        >\n          <path\n            d=\"M15 21H6C5.20435 21 4.44129 20.6839 3.87868 20.1213C3.31607 19.5587 3 18.7957 3 18V17H13V19C13 19.5304 13.2107 20.0391 13.5858 20.4142C13.9609 20.7893 14.4696 21 15 21ZM15 21C15.5304 21 16.0391 20.7893 16.4142 20.4142C16.7893 20.0391 17 19.5304 17 19V5C17 4.60444 17.1173 4.21776 17.3371 3.88886C17.5568 3.55996 17.8692 3.30362 18.2346 3.15224C18.6001 3.00087 19.0022 2.96126 19.3902 3.03843C19.7781 3.1156 20.1345 3.30608 20.4142 3.58579C20.6939 3.86549 20.8844 4.22186 20.9616 4.60982C21.0387 4.99778 20.9991 5.39992 20.8478 5.76537C20.6964 6.13082 20.44 6.44318 20.1111 6.66294C19.7822 6.8827 19.3956 7 19 7H17M19 3H8C7.20435 3 6.44129 3.31607 5.87868 3.87868C5.31607 4.44129 5 5.20435 5 6V17\"\n          />\n          <path d=\"M9 7H13\" />\n          <path d=\"M9 11H13\" />\n        </svg>\n      </div>\n      <div>\n        <h3 class=\"md:text-lg font-semibold\">Custom Solidity contract</h3>\n        <p class=\"mt-1 text-sm leading-relaxed text-gray-50\">\n          A set of <a\n            href={shapesEtherscanURL}\n            target=\"_blank\"\n            class=\"underline underline-offset-4 decoration-dashed hover:decoration-solid text-[#f6b855]\"\n            >custom Solidity contracts</a\n          > to produce entirely on-chain art and advanced NFT dynamics.\n        </p>\n      </div>\n    </div>\n  </div>\n\n  <div\n    class=\"p-4 overflow-hidden bg-white/15 backdrop-blur-xl transition duration-1000 delay-[3.2s] {isLoaded\n      ? ''\n      : 'opacity-0 translate-y-4'} rounded-xl text-[#2cdae2]\"\n  >\n    <div class=\"absolute inset-0 w-full h-px bg-gradient-to-r from-transparent via-white/20\" />\n    <div class=\"flex gap-4\">\n      <div\n        class=\"flex items-center justify-center flex-none w-10 h-10 border rounded border-[#2cdae2]/25 bg-[#2cdae2]/15\"\n      >\n        <svg\n          class=\"w-6 h-6 stroke-current\"\n          viewBox=\"0 0 24 24\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          stroke-width=\"1.5\"\n          stroke-linecap=\"round\"\n          stroke-linejoin=\"round\"\n        >\n          <path\n            d=\"M2.5 20C2.72717 20.3165 3.02797 20.573 3.37642 20.7472C3.72488 20.9214 4.1105 21.0082 4.5 21C4.8895 21.0082 5.27512 20.9214 5.62358 20.7472C5.97203 20.573 6.27283 20.3165 6.5 20C6.72717 19.6835 7.02797 19.4271 7.37642 19.2529C7.72488 19.0787 8.1105 18.9919 8.5 19C8.8895 18.9919 9.27512 19.0787 9.62358 19.2529C9.97203 19.4271 10.2728 19.6835 10.5 20C10.7272 20.3165 11.028 20.573 11.3764 20.7472C11.7249 20.9214 12.1105 21.0082 12.5 21C12.8895 21.0082 13.2751 20.9214 13.6236 20.7472C13.972 20.573 14.2728 20.3165 14.5 20C14.7272 19.6835 15.028 19.4271 15.3764 19.2529C15.7249 19.0787 16.1105 18.9919 16.5 19C16.8895 18.9919 17.2751 19.0787 17.6236 19.2529C17.972 19.4271 18.2728 19.6835 18.5 20C18.7272 20.3165 19.028 20.573 19.3764 20.7472C19.7249 20.9214 20.1105 21.0082 20.5 21C20.8895 21.0082 21.2751 20.9214 21.6236 20.7472C21.972 20.573 22.2728 20.3165 22.5 20\"\n          />\n          <path d=\"M4.5 18L3.5 15H21.5L20.5 18\" />\n          <path d=\"M11.5 12H18.5L11.5 3V12Z\" />\n          <path d=\"M8.5 7L6.5 12\" />\n        </svg>\n      </div>\n      <div>\n        <h3 class=\"md:text-lg font-semibold\">Collection on OpenSea</h3>\n        <p class=\"mt-1 text-sm leading-relaxed text-gray-50\">\n          Manage your tokens on the world's first and largest NFT marketplace. Visit <a\n            href=\"https://opensea.io/collection/shapes2048\"\n            target=\"_blank\"\n            class=\"underline underline-offset-4 decoration-dashed hover:decoration-solid text-[#2cdae2]\"\n            >Shapes on OpenSea</a\n          >\n        </p>\n      </div>\n    </div>\n  </div>\n\n  <!-- <div\n    class=\"p-4 overflow-hidden bg-white/15 backdrop-blur-xl transition duration-1000 delay-[3.3s] {isLoaded\n      ? ''\n      : 'opacity-0 translate-y-4'} rounded-xl text-[#2cdae2]\"\n  >\n    <div class=\"absolute inset-0 w-full h-px bg-gradient-to-r from-transparent via-white/20\" />\n    <div class=\"flex gap-4\">\n      <div\n        class=\"flex items-center justify-center flex-none w-10 h-10 border rounded border-[#2cdae2]/25 bg-[#2cdae2]/15\"\n      >\n        <svg\n          class=\"w-6 h-6 stroke-current\"\n          viewBox=\"0 0 24 24\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          stroke-width=\"1.5\"\n          stroke-linecap=\"round\"\n          stroke-linejoin=\"round\"\n        >\n          <path\n            d=\"M6 12C7.10457 12 8 11.1046 8 10C8 8.89543 7.10457 8 6 8C4.89543 8 4 8.89543 4 10C4 11.1046 4.89543 12 6 12Z\"\n          />\n          <path d=\"M6 4V8\" />\n          <path d=\"M6 12V20\" />\n          <path\n            d=\"M12 18C13.1046 18 14 17.1046 14 16C14 14.8954 13.1046 14 12 14C10.8954 14 10 14.8954 10 16C10 17.1046 10.8954 18 12 18Z\"\n          />\n          <path d=\"M12 4V14\" />\n          <path d=\"M12 18V20\" />\n          <path\n            d=\"M18 9C19.1046 9 20 8.10457 20 7C20 5.89543 19.1046 5 18 5C16.8954 5 16 5.89543 16 7C16 8.10457 16.8954 9 18 9Z\"\n          />\n          <path d=\"M18 4V5\" />\n          <path d=\"M18 9V20\" />\n        </svg>\n      </div>\n      <div>\n        <h3 class=\"md:text-lg font-semibold\">Unique features</h3>\n        <p class=\"mt-1 text-sm leading-relaxed text-gray-50\">\n          Each sub-collection has its own unique features and the meta collection can be explored using a subset of\n          common features.\n        </p>\n      </div>\n    </div>\n  </div>\n\n  <div\n    class=\"p-4 overflow-hidden bg-white/15 backdrop-blur-xl transition duration-1000 delay-[3.4s] {isLoaded\n      ? ''\n      : 'opacity-0 translate-y-4'} rounded-xl text-[#f04141]\"\n  >\n    <div class=\"absolute inset-0 w-full h-px bg-gradient-to-r from-transparent via-white/20\" />\n    <div class=\"flex gap-4\">\n      <div\n        class=\"flex items-center justify-center flex-none w-10 h-10 border rounded border-[#f04141]/25 bg-[#f04141]/15\"\n      >\n        <svg\n          class=\"w-6 h-6 stroke-current\"\n          viewBox=\"0 0 24 24\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          stroke-width=\"1.5\"\n          stroke-linecap=\"round\"\n          stroke-linejoin=\"round\"\n        >\n          <path\n            d=\"M20 11.0002C19.7554 9.24041 18.9391 7.60985 17.6766 6.35969C16.4142 5.10953 14.7758 4.30911 13.0137 4.08175C11.2516 3.85438 9.46362 4.21268 7.9252 5.10144C6.38678 5.9902 5.18325 7.36013 4.5 9.00019M4 5.00019V9.00019H8\"\n          />\n          <path\n            d=\"M4 13C4.24456 14.7598 5.06093 16.3903 6.32336 17.6405C7.58579 18.8907 9.22424 19.6911 10.9863 19.9184C12.7484 20.1458 14.5364 19.7875 16.0748 18.8988C17.6132 18.01 18.8168 16.6401 19.5 15M20 19V15H16\"\n          />\n          <path\n            d=\"M12 13C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12C11 12.5523 11.4477 13 12 13Z\"\n            fill=\"#2cdae2\"\n          />\n        </svg>\n      </div>\n      <div>\n        <h3 class=\"md:text-lg font-semibold\">Generate again and again</h3>\n        <p class=\"mt-1 text-sm leading-relaxed text-gray-50\">\n          After mint, owners can mutate their tokens by hunting for new seeds or even switching to other generators.\n        </p>\n      </div>\n    </div>\n  </div>\n\n  <div\n    class=\"p-4 overflow-hidden bg-white/15 backdrop-blur-xl transition duration-1000 delay-[3.5s] {isLoaded\n      ? ''\n      : 'opacity-0 translate-y-4'} rounded-xl text-[#f6b855]\"\n  >\n    <div class=\"absolute inset-0 w-full h-px bg-gradient-to-r from-transparent via-white/20\" />\n    <div class=\"flex gap-4\">\n      <div\n        class=\"flex items-center justify-center flex-none w-10 h-10 border rounded border-[#f6b855]/25 bg-[#f6b855]/15\"\n      >\n        <svg\n          class=\"w-6 h-6 stroke-current\"\n          viewBox=\"0 0 24 24\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          stroke-width=\"1.5\"\n          stroke-linecap=\"round\"\n          stroke-linejoin=\"round\"\n        >\n          <path\n            d=\"M17 11H7C5.89543 11 5 11.8954 5 13V19C5 20.1046 5.89543 21 7 21H17C18.1046 21 19 20.1046 19 19V13C19 11.8954 18.1046 11 17 11Z\"\n          />\n          <path\n            d=\"M12 17C12.5523 17 13 16.5523 13 16C13 15.4477 12.5523 15 12 15C11.4477 15 11 15.4477 11 16C11 16.5523 11.4477 17 12 17Z\"\n            fill=\"#f04141\"\n          />\n          <path\n            d=\"M8 11V7C8 5.93913 8.42143 4.92172 9.17157 4.17157C9.92172 3.42143 10.9391 3 12 3C13.0609 3 14.0783 3.42143 14.8284 4.17157C15.5786 4.92172 16 5.93913 16 7V11\"\n          />\n        </svg>\n      </div>\n      <div>\n        <h3 class=\"md:text-lg font-semibold\">Reach final form</h3>\n        <p class=\"mt-1 text-sm leading-relaxed text-gray-50\">\n          Collectors can shape the collection by mutating and curating the tokens until their definitive form on January\n          31st, 2023.\n        </p>\n      </div>\n    </div>\n  </div> -->\n</section>\n","<script>\n  import { message } from '../store'\n\n  let messageShown\n  message.subscribe((value) => {\n    messageShown = value\n  })\n</script>\n\n<div\n  class=\"flex gap-3 bg-gray-800 text-left p-4 max-w-sm rounded-lg border border-gray-700  text-white items-center transition-all shadow-2xl duration-300 {messageShown\n    ? 'pointer-events-auto'\n    : 'opacity-0 translate-y-4 md:translate-y-0 md:translate-x-8'}\"\n>\n  <svg\n    class=\"w-6 h-6 stroke-current fill-transparent flex-none\"\n    viewBox=\"0 0 24 24\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    stroke-width=\"1.5\"\n    stroke-linecap=\"round\"\n    stroke-linejoin=\"round\"\n  >\n    <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\" />\n    <circle cx=\"12\" cy=\"12\" r=\"9\" />\n    <line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"12\" />\n    <line x1=\"12\" y1=\"16\" x2=\"12.01\" y2=\"16\" />\n  </svg>\n\n  <p class=\"text-sm leading-relaxed\">\n    {messageShown}\n  </p>\n</div>\n","<script>\n  \n  import { connected } from 'svelte-ethers-store'\n  import { connectWallet } from '../lib/wallet'\n\n  export let isLoaded\n\n  async function handleClick() {\n    await connectWallet()\n  }\n</script>\n\n  {#if !$connected}\n  <div class=\"border rounded-lg border-[#F6B855]/10 max-w-xl mx-auto my-12 xl:my-20 px-8 pt-8 pb-10 bg-[#F6B855]/10 backdrop-blur-xl transition duration-1000 delay-[2.5s] {isLoaded\n      ? ''\n      : 'opacity-0 translate-y-4'}\">\n  <div class=\"absolute inset-0 w-full h-px bg-gradient-to-r from-transparent via-white/20\" />\n\n  <h3 class=\"sm:text-lg md:text-xl mb-4 text-center drop-shadow-[0_8px_16px_rgba(0,0,0,0.25)]\">\n    \n    <span class=\"text-[#F6B855]\">\n    Got some \n      <a class=\"decoration-dashed underline hover:decoration-solid underline-offset-4\"\n        target=\"_blank\"\n        href=\"https://makio135.com/slashes\"\n        >\n        Slashes\n      </a>?\n    </span> \n  </h3>\n  <p class=\"text-gray-300 !leading-relaxed text-center\">\n    You can now swap them for Version 2 with more polygons, and the possibility to generate other shapes in the future.\n    <br>\n    <a on:click={handleClick} class=\"decoration-dashed underline hover:decoration-solid underline-offset-4\"href='#connect-wallet'>\n      Connect your wallet\n    </a>\n    to start now.\n  </p>\n  </div>\n{/if}\n","/** Dispatch event on click outside of node */\nexport function clickOutside(node) {\n  const handleClick = (event) => {\n    if (node && !node.contains(event.target) && !event.defaultPrevented) {\n      node.dispatchEvent(new CustomEvent('click-outside', node))\n    }\n  }\n\n  document.addEventListener('click', handleClick, true)\n\n  return {\n    destroy() {\n      document.removeEventListener('click', handleClick, true)\n    },\n  }\n}\n","<script>\n  export let attributes\n\n  const traits = {\n    filter: 'Filter',\n    'Shape StrokeWidth': 'Shape Stroke-Width',\n    tokenId: 'Token ID',\n    paletteID: 'Palette ID',\n    noiseScale: 'Noise Scale',\n    maxSw: 'Max Stroke-Width',\n    nbDashes: 'Number of Dashes',\n    minR: 'Min Radius',\n    maxR: 'Max Radius',\n    countChanges: 'Generations',\n    shape: 'Shape',\n  }\n\n  const icons = {\n    default: `<rect x=\"4\" y=\"8\" width=\"4\" height=\"4\" /> <line x1=\"6\" y1=\"4\" x2=\"6\" y2=\"8\" /> <line x1=\"6\" y1=\"12\" x2=\"6\" y2=\"20\" /> <rect x=\"10\" y=\"14\" width=\"4\" height=\"4\" /> <line x1=\"12\" y1=\"4\" x2=\"12\" y2=\"14\" /> <line x1=\"12\" y1=\"18\" x2=\"12\" y2=\"20\" /> <rect x=\"16\" y=\"5\" width=\"4\" height=\"4\" /> <line x1=\"18\" y1=\"4\" x2=\"18\" y2=\"5\" /> <line x1=\"18\" y1=\"9\" x2=\"18\" y2=\"20\" />`,\n    'Palette ID': `<path d=\"M12 21a9 9 0 1 1 0 -18a9 8 0 0 1 9 8a4.5 4 0 0 1 -4.5 4h-2.5a2 2 0 0 0 -1 3.75a1.3 1.3 0 0 1 -1 2.25\" /> <circle cx=\"7.5\" cy=\"10.5\" r=\".5\" /> <circle cx=\"12\" cy=\"7.5\" r=\".5\" /> <circle cx=\"16.5\" cy=\"10.5\" r=\".5\" />`,\n    filter: `<path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\"></path> <polyline points=\"6 21 21 6 18 3 3 18 6 21\"></polyline> <line x1=\"15\" y1=\"6\" x2=\"18\" y2=\"9\"></line> <path d=\"M9 3a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2\"></path> <path d=\"M19 13a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2\"></path>`,\n    'Background Opacity': `<rect x=\"8\" y=\"8\" width=\"12\" height=\"12\" rx=\"2\" /> <path d=\"M8 14.5l6.492 -6.492\" /> <path d=\"M13.496 20.004l6.504 -6.504l-6.504 6.504z\" /> <path d=\"M8.586 19.414l10.827 -10.827\" /> <path d=\"M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2\" />`,\n    'Gradients / 1000': `<path d=\"M12 4v16\" /> <rect x=\"4\" y=\"4\" width=\"16\" height=\"16\" rx=\"2\" /> <path d=\"M12 13l7.5 -7.5\" /> <path d=\"M12 18l8 -8\" /> <path d=\"M15 20l5 -5\" /> <path d=\"M12 8l4 -4\" />`,\n    'X Direction Force': `<path d=\"M12 9v-3.586a1 1 0 0 1 1.707 -.707l6.586 6.586a1 1 0 0 1 0 1.414l-6.586 6.586a1 1 0 0 1 -1.707 -.707v-3.586h-3v-6h3z\" /> <path d=\"M3 9v6\" /> <path d=\"M6 9v6\" />`,\n    'Y Direction Force': `<path d=\"M9 12h-3.586a1 1 0 0 1 -.707 -1.707l6.586 -6.586a1 1 0 0 1 1.414 0l6.586 6.586a1 1 0 0 1 -.707 1.707h-3.586v3h-6v-3z\" /> <path d=\"M9 21h6\" /> <path d=\"M9 18h6\" />`,\n    'Wider Shapes / 1000': `<path d=\"M10 12h-7l3 -3m0 6l-3 -3\" /> <path d=\"M14 12h7l-3 -3m0 6l3 -3\" /> <path d=\"M3 6v-3h18v3\" /> <path d=\"M3 18v3h18v-3\" />`,\n    'Complexity Level': `<circle cx=\"5\" cy=\"5\" r=\"2\" /> <circle cx=\"19\" cy=\"19\" r=\"2\" /> <circle cx=\"19\" cy=\"5\" r=\"2\" /> <circle cx=\"5\" cy=\"19\" r=\"2\" /> <path d=\"M6.5 17.5l11 -11m-12.5 .5v10m14 -10v10\" />`,\n    'Shape Type': `<circle cx=\"6.5\" cy=\"6.5\" r=\"3.5\" /> <path d=\"M2.5 21h8l-4 -7z\" /> <path d=\"M14 3l7 7\" /> <path d=\"M14 10l7 -7\" /> <path d=\"M14 14h7v7h-7z\" />`,\n    'Shape StrokeWidth': `<path d=\"M3 21v-4a4 4 0 1 1 4 4h-4\" /> <path d=\"M21 3a16 16 0 0 0 -12.8 10.2\" /> <path d=\"M21 3a16 16 0 0 1 -10.2 12.8\" /> <path d=\"M10.6 9a9 9 0 0 1 4.4 4.4\" />`,\n    'Shape Filled': `<path d=\"M6.8 11a6 6 0 1 0 10.396 0l-5.197 -8l-5.2 8z\" /> <path d=\"M6 14h12\" /> <path d=\"M7.305 17.695l3.695 -3.695\" /> <path d=\"M10.26 19.74l5.74 -5.74l-5.74 5.74z\" />`,\n    Scales: `<path d=\"M5 4h14a1 1 0 0 1 1 1v5a1 1 0 0 1 -1 1h-7a1 1 0 0 0 -1 1v7a1 1 0 0 1 -1 1h-5a1 1 0 0 1 -1 -1v-14a1 1 0 0 1 1 -1\"></path> <line x1=\"4\" y1=\"8\" x2=\"6\" y2=\"8\"></line> <line x1=\"4\" y1=\"12\" x2=\"7\" y2=\"12\"></line> <line x1=\"4\" y1=\"16\" x2=\"6\" y2=\"16\"></line> <line x1=\"8\" y1=\"4\" x2=\"8\" y2=\"6\"></line> <polyline points=\"12 4 12 7 \"></polyline> <polyline points=\"16 4 16 6 \"></polyline>`,\n    tokenId: `<path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\"></path> <line x1=\"5\" y1=\"9\" x2=\"19\" y2=\"9\"></line> <line x1=\"5\" y1=\"15\" x2=\"19\" y2=\"15\"></line> <line x1=\"11\" y1=\"4\" x2=\"7\" y2=\"20\"></line> <line x1=\"17\" y1=\"4\" x2=\"13\" y2=\"20\"></line>`,\n    paletteID: `<path d=\"M12 21a9 9 0 1 1 0 -18a9 8 0 0 1 9 8a4.5 4 0 0 1 -4.5 4h-2.5a2 2 0 0 0 -1 3.75a1.3 1.3 0 0 1 -1 2.25\" /> <circle cx=\"7.5\" cy=\"10.5\" r=\".5\" /> <circle cx=\"12\" cy=\"7.5\" r=\".5\" /> <circle cx=\"16.5\" cy=\"10.5\" r=\".5\" />`,\n    noiseScale: ``,\n    maxSw: ``,\n    nbDashes: `<path d=\"M8.56 3.69a9 9 0 0 0 -2.92 1.95\"></path> <path d=\"M3.69 8.56a9 9 0 0 0 -.69 3.44\"></path> <path d=\"M3.69 15.44a9 9 0 0 0 1.95 2.92\"></path> <path d=\"M8.56 20.31a9 9 0 0 0 3.44 .69\"></path> <path d=\"M15.44 20.31a9 9 0 0 0 2.92 -1.95\"></path> <path d=\"M20.31 15.44a9 9 0 0 0 .69 -3.44\"></path> <path d=\"M20.31 8.56a9 9 0 0 0 -1.95 -2.92\"></path> <path d=\"M15.44 3.69a9 9 0 0 0 -3.44 -.69\"></path>`,\n    minR: ``,\n    maxR: ``,\n    shape: `<circle cx=\"6.5\" cy=\"6.5\" r=\"3.5\"></circle> <path d=\"M2.5 21h8l-4 -7z\"></path> <path d=\"M14 3l7 7\"></path> <path d=\"M14 10l7 -7\"></path> <path d=\"M14 14h7v7h-7z\"></path>`,\n    countChanges: `<path d=\"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4\"></path> <path d=\"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4\"></path> <circle cx=\"12\" cy=\"12\" r=\"1\"></circle>`,\n  }\n</script>\n\n<div class=\"space-y-6 text-sm\">\n  <p class=\"text-lg\">Artwork traits</p>\n\n  {#each attributes as { trait_type, value }}\n    <div class=\"flex justify-between\">\n      <div class=\"flex items-center gap-4\">\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          class=\"w-6 h-6 stroke-current fill-transparent\"\n          viewBox=\"0 0 24 24\"\n          stroke-width=\"1.5\"\n          stroke-linecap=\"round\"\n          stroke-linejoin=\"round\"\n        >\n          {@html icons[trait_type] || icons.default}\n        </svg>\n        <span>{traits[trait_type] || trait_type}</span>\n      </div>\n      <span class=\"opacity-60 capitalize\">{value}</span>\n    </div>\n  {/each}\n</div>\n","export default (tokenId) => {\n  const baseURL = `https://makio135.com/slashes-v2`\n  const text = `Shapes ${tokenId} by @makio135 and @clemsos!`\n  const hashtags = 'shapes,slashes,generative,svg,onchain,nft,solidity'\n  return `https://twitter.com/intent/tweet?text=${encodeURI(text)}%0a&hashtags=${encodeURI(hashtags)}&url=${encodeURI(\n    baseURL\n  )}${tokenId ? '%23' + tokenId : ''}%0a`\n}\n","import { getContractInfo } from '../lib/contract'\nimport { DEFAULT_NETWORK } from './constants'\n\nexport default async (tokenId) => {\n  const { address } = await getContractInfo(DEFAULT_NETWORK)\n  return DEFAULT_NETWORK === 4 ? \n    `https://testnets.opensea.io/assets/rinkeby/${address}/${tokenId}`\n  :\n    `https://opensea.com/assets/ethereum/${address}/${tokenId}/`\n}","<script>\n  import getTwitterUrl from '../../lib/twitter'\n  import getOpenseaUrl from '../../lib/opensea'\nimport { onMount } from 'svelte';\n\n  export let tokenId\n  export let svg\n  export let png\n\n  let openseaURL\n  onMount( async() => {\n    openseaURL = await getOpenseaUrl(tokenId)\n  })\n</script>\n\n<div class=\"space-y-4\">\n  <a\n    href={getTwitterUrl(tokenId)}\n    target=\"_blank\"\n    class=\"relative bg-[#1b90ee] w-full text-center p-2 flex items-center justify-center gap-2 rounded-lg hover:bg-[#209dff] transition-colors duration-150\"\n  >\n    <div class=\"absolute inset-0 w-full h-px bg-gradient-to-r from-transparent via-white/20\" />\n    <svg\n      class=\"w-6 h-6 stroke-current fill-transparent\"\n      viewBox=\"0 0 24 24\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      stroke-width=\"1.5\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    >\n      <path\n        d=\"M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z\"\n      />\n    </svg>\n\n    Share on Twitter\n  </a>\n\n  <a\n    href={openseaURL}\n    target=\"_blank\"\n    class=\"relative flex items-center justify-center w-full gap-2 p-2 text-center transition-colors duration-150 rounded-lg bg-white/15 hover:bg-white/20\"\n  >\n    <div class=\"absolute inset-0 w-full h-px bg-gradient-to-r from-transparent via-white/20\" />\n    <svg\n      class=\"w-6 h-6 stroke-current fill-transparent\"\n      viewBox=\"0 0 24 24\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      stroke-width=\"1.5\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    >\n      <path\n        d=\"M2.5 20C2.72717 20.3165 3.02797 20.573 3.37642 20.7472C3.72488 20.9214 4.1105 21.0082 4.5 21C4.8895 21.0082 5.27512 20.9214 5.62358 20.7472C5.97203 20.573 6.27283 20.3165 6.5 20C6.72717 19.6835 7.02797 19.4271 7.37642 19.2529C7.72488 19.0787 8.1105 18.9919 8.5 19C8.8895 18.9919 9.27512 19.0787 9.62358 19.2529C9.97203 19.4271 10.2728 19.6835 10.5 20C10.7272 20.3165 11.028 20.573 11.3764 20.7472C11.7249 20.9214 12.1105 21.0082 12.5 21C12.8895 21.0082 13.2751 20.9214 13.6236 20.7472C13.972 20.573 14.2728 20.3165 14.5 20C14.7272 19.6835 15.028 19.4271 15.3764 19.2529C15.7249 19.0787 16.1105 18.9919 16.5 19C16.8895 18.9919 17.2751 19.0787 17.6236 19.2529C17.972 19.4271 18.2728 19.6835 18.5 20C18.7272 20.3165 19.028 20.573 19.3764 20.7472C19.7249 20.9214 20.1105 21.0082 20.5 21C20.8895 21.0082 21.2751 20.9214 21.6236 20.7472C21.972 20.573 22.2728 20.3165 22.5 20\"\n      />\n      <path d=\"M4.5 18L3.5 15H21.5L20.5 18\" />\n      <path d=\"M11.5 12H18.5L11.5 3V12Z\" />\n      <path d=\"M8.5 7L6.5 12\" />\n    </svg>\n    View on OpenSea\n  </a>\n\n  <!-- TODO: href -->\n  <!-- <a\n    href=\"#\"\n    class=\"relative flex items-center justify-center w-full gap-2 p-2 text-center transition-colors duration-150 rounded-lg bg-white/15 hover:bg-white/20\"\n  >\n    <div class=\"absolute inset-0 w-full h-px bg-gradient-to-r from-transparent via-white/20\" />\n    <svg\n      class=\"w-6 h-6 stroke-current fill-transparent\"\n      viewBox=\"0 0 24 24\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      stroke-width=\"1.5\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    >\n      <path stroke=\"none\" d=\"M0 0h24v24H0z\" />\n      <path d=\"M4 8v-2a2 2 0 0 1 2 -2h2\" />\n      <path d=\"M4 16v2a2 2 0 0 0 2 2h2\" />\n      <path d=\"M16 4h2a2 2 0 0 1 2 2v2\" />\n      <path d=\"M16 20h2a2 2 0 0 0 2 -2v-2\" />\n    </svg>\n    Open in full screen\n  </a> -->\n\n  <div class=\"flex gap-4\">\n    <a\n      href={png}\n      target=\"_blank\"\n      class=\"relative flex items-center justify-center w-full gap-2 p-2 text-center transition-colors duration-150 rounded-lg bg-white/15 hover:bg-white/20\"\n    >\n      <div class=\"absolute inset-0 w-full h-px bg-gradient-to-r from-transparent via-white/20\" />\n      <svg\n        class=\"w-6 h-6 stroke-current fill-transparent\"\n        viewBox=\"0 0 24 24\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        stroke-width=\"1.5\"\n        stroke-linecap=\"round\"\n        stroke-linejoin=\"round\"\n      >\n        <path stroke=\"none\" d=\"M0 0h24v24H0z\" />\n        <path d=\"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2\" />\n        <polyline points=\"7 11 12 16 17 11\" />\n        <line x1=\"12\" y1=\"4\" x2=\"12\" y2=\"16\" />\n      </svg>\n      PNG\n    </a>\n\n    <a\n      href={svg}\n      target=\"_blank\"\n      class=\"relative flex items-center justify-center w-full gap-2 p-2 text-center transition-colors duration-150 rounded-lg bg-white/15 hover:bg-white/20\"\n    >\n      <div class=\"absolute inset-0 w-full h-px bg-gradient-to-r from-transparent via-white/20\" />\n      <svg\n        class=\"w-6 h-6 stroke-current fill-transparent\"\n        viewBox=\"0 0 24 24\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        stroke-width=\"1.5\"\n        stroke-linecap=\"round\"\n        stroke-linejoin=\"round\"\n      >\n        <path stroke=\"none\" d=\"M0 0h24v24H0z\" />\n        <path d=\"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2\" />\n        <polyline points=\"7 11 12 16 17 11\" />\n        <line x1=\"12\" y1=\"4\" x2=\"12\" y2=\"16\" />\n      </svg>\n      SVG\n    </a>\n  </div>\n</div>\n","<script>\n  export let tokenId\n\n  async function handleChangeShape() {\n    console.log('changeShape', tokenId)\n    // await changeShape(tokenId)\n  }\n</script>\n\n<button\n  on:click={handleChangeShape}\n  class=\"mt-4 w-full gap-1 bg-[#F6B855] text-black rounded flex items-center justify-center p-2 text-sm hover:brightness-110\"\n>\n  <svg\n    class=\"flex-none w-4 h-4 stroke-current\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    stroke-width=\"1.25\"\n    stroke-linecap=\"round\"\n    stroke-linejoin=\"round\"\n  >\n    <path\n      d=\"M6.00006 8.00023H3.6094C3.47756 8.0002 3.3487 7.96108 3.23909 7.88783C3.12948 7.81457 3.04406 7.71046 2.99361 7.58866C2.94316 7.46686 2.92996 7.33284 2.95567 7.20354C2.98139 7.07424 3.04486 6.95546 3.13806 6.86223L7.52873 2.47156C7.65375 2.34658 7.82329 2.27637 8.00006 2.27637C8.17684 2.27637 8.34638 2.34658 8.4714 2.47156L12.8621 6.86223C12.9553 6.95546 13.0187 7.07424 13.0445 7.20354C13.0702 7.33284 13.057 7.46686 13.0065 7.58866C12.9561 7.71046 12.8706 7.81457 12.761 7.88783C12.6514 7.96108 12.5226 8.0002 12.3907 8.00023H10.0001V12.0002H6.00006V8.00023Z\"\n    />\n    <path d=\"M6 14H10\" />\n  </svg>\n  Change Shape\n</button>\n","<script>\n  export let tokenId\n\n  async function handleChangeSeed() {\n    console.log('changeSeed', tokenId)\n    // await changeSeed(tokenId)\n  }\n</script>\n\n<button\n  on:click={handleChangeSeed}\n  class=\"mt-4 w-full gap-1 bg-[#F6B855] text-black rounded flex items-center justify-center p-2 text-sm hover:brightness-110\"\n>\n  <svg\n    class=\"flex-none w-4 h-4 stroke-current\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    stroke-width=\"1.25\"\n    stroke-linecap=\"round\"\n    stroke-linejoin=\"round\"\n  >\n    <path\n      d=\"M6.00006 8.00023H3.6094C3.47756 8.0002 3.3487 7.96108 3.23909 7.88783C3.12948 7.81457 3.04406 7.71046 2.99361 7.58866C2.94316 7.46686 2.92996 7.33284 2.95567 7.20354C2.98139 7.07424 3.04486 6.95546 3.13806 6.86223L7.52873 2.47156C7.65375 2.34658 7.82329 2.27637 8.00006 2.27637C8.17684 2.27637 8.34638 2.34658 8.4714 2.47156L12.8621 6.86223C12.9553 6.95546 13.0187 7.07424 13.0445 7.20354C13.0702 7.33284 13.057 7.46686 13.0065 7.58866C12.9561 7.71046 12.8706 7.81457 12.761 7.88783C12.6514 7.96108 12.5226 8.0002 12.3907 8.00023H10.0001V12.0002H6.00006V8.00023Z\"\n    />\n    <path d=\"M6 14H10\" />\n  </svg>\n  Change Seed\n</button>\n","<script>\n  import { DEFAULT_SHAPE } from '../../lib/constants'\n  import { connected, signer, contracts } from 'svelte-ethers-store'\n  import { getTxUrl } from '../../lib/contract'\n  import { fetchToken } from '../../lib/api'\n  import { shapes, myShapes, mySlashesIds, isDoingSthImportant } from '../../store'\n  import { get } from 'svelte/store'\n\n  export let tokenId\n\n  let isProcessing = false\n  let approvalTxHash\n  let approvalDone = false\n  let swapTxHash\n  let swapDone = false\n\n  async function handleUpgradableClick() {\n    if (!connected) {\n      throw Error('No account connected.')\n    }\n\n    isProcessing = true\n    isDoingSthImportant.set(true)\n\n    // approve then swap the slash\n    const approvalTx = await $contracts.slashes.connect($signer).approve($contracts.shapes.address, tokenId)\n    approvalTxHash = getTxUrl(approvalTx.hash)\n\n    const { transactionHash: swapTransactionHash } = await approvalTx.wait()\n    approvalTxHash = getTxUrl(swapTransactionHash)\n\n    approvalDone = true\n\n    // then we can actually swap the token\n    const tx = await $contracts.shapes.swapSlash(tokenId, DEFAULT_SHAPE)\n    swapTxHash = getTxUrl(tx.hash)\n\n    // wait until the transaction is mined\n    const { events, transactionHash } = await tx.wait()\n    swapTxHash = getTxUrl(transactionHash)\n\n    // get Transfer event from the tx data\n    // const { args } = events.find(({ event }) => event === 'SwapSlashes')\n    const {\n      args: { tokenId: newTokenId },\n    } = events.find(({ event }) => event === 'Transfer')\n\n    // notify the server to rebuild this\n    const token = await fetchToken(newTokenId)\n\n    // update the shapes\n    shapes.set([...get(shapes), token])\n    myShapes.set([...get(myShapes), token])\n\n    // remove the slash from ui\n    mySlashesIds.set(get(mySlashesIds).filter((d) => d !== tokenId))\n    swapDone = true\n    \n    // wait for 3s to fetch image then go to the new shape\n    setTimeout(() => {\n      isDoingSthImportant.set(false)\n      window.location.hash = `congrats-${newTokenId}`\n    }, 3000)\n  }\n</script>\n\n<div class=\"bg-gray-800 p-8 rounded-lg -mx-8 relative overflow-hidden\">\n  <div class=\"absolute inset-0 w-full h-px bg-gradient-to-r from-transparent via-white/20\" />\n\n  <img\n    src=\"./images/bg.png\"\n    alt=\"Background\"\n    class=\"absolute object-cover left-0 top-0 rotate-90 -translate-y-4 opacity-10\"\n  />\n\n  <div class=\"relative\">\n    <h3 class=\"text-center text-xl text-[#F6B855]\">Upgrade this token</h3>\n    <p class=\"text-sm mt-4 leading-relaxed\">\n      You can swap this token to a new $SHAPES token. This token will be burned and you will receive a new token in\n      exchange.\n    </p>\n\n    <p class=\"mt-6 text-[#F6B855] border border-[#F6B855]/50 p-4 rounded-lg text-sm bg-[#F6B855]/10 leading-relaxed\">\n      This new token will have new features: the art will not be the same. The Slashes V1 token that you currently own\n      will be burned.\n    </p>\n\n    {#if isProcessing}\n      <div class=\"mt-10 text-white text-sm leading-relaxed\" role=\"status\">\n        {#if !approvalDone && !approvalTxHash}\n          <p class=\"text-[#F6B855] text-base mb-2 block w-full text-center\">Step 1/4</p>\n\n          <p>Please approve the SLASHES contract to burn your token.</p>\n        {/if}\n\n        {#if !approvalDone && approvalTxHash}\n          <p class=\"text-[#F6B855] text-base mb-2 block w-full text-center\">Step 2/4</p>\n\n          <p>\n            Approving the contract… This might take 10-20 seconds (<a\n              class=\"underline decoration-dashed underline-offset-4 hover:decoration-solid\"\n              href={approvalTxHash}\n              target=\"_blank\">see transaction</a\n            >).\n          </p>\n        {/if}\n\n        {#if approvalDone && !swapDone && !swapTxHash}\n          <p class=\"text-[#F6B855] text-base mb-2 block w-full text-center\">Step 3/4</p>\n\n          <p>Please confirm that you want to swap the token.</p>\n        {/if}\n\n        {#if approvalDone && !swapDone && swapTxHash}\n          <p class=\"text-[#F6B855] text-base mb-2 block w-full text-center\">Step 4/4</p>\n\n          <p>\n            Swapping the token… This might take 10-20 seconds (<a\n              class=\"underline decoration-dashed underline-offset-4 hover:decoration-solid\"\n              href={swapTxHash}\n              target=\"_blank\">see transaction</a\n            >).\n          </p>\n        {/if}\n\n        {#if approvalDone && swapDone}\n          <p class=\"text-[#F6B855] text-center text-lg mb-2\">Upgrade done. Congrats!</p>\n\n          <p>Another 20 seconds to wait while we are fetching your new token...</p>\n          <p>Please refresh this page if you have issues viewing it.</p>\n        {/if}\n      </div>\n    {:else}\n      <p class=\"text-[#F6B855] mt-6 text-sm leading-relaxed\">\n        Upgrading is a four-step process. It will trigger two signed operations in your wallet.\n      </p>\n\n      <button\n        on:click={handleUpgradableClick}\n        class=\"mt-8 mx-auto py-3 w-full gap-2 bg-[#F6B855] text-black rounded-lg flex items-center justify-center hover:brightness-110\"\n      >\n        <svg\n          class=\"flex-none w-5 h-5 stroke-current\"\n          viewBox=\"0 0 16 16\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          stroke-width=\"1.25\"\n          stroke-linecap=\"round\"\n          stroke-linejoin=\"round\"\n        >\n          <path\n            d=\"M6.00006 8.00023H3.6094C3.47756 8.0002 3.3487 7.96108 3.23909 7.88783C3.12948 7.81457 3.04406 7.71046 2.99361 7.58866C2.94316 7.46686 2.92996 7.33284 2.95567 7.20354C2.98139 7.07424 3.04486 6.95546 3.13806 6.86223L7.52873 2.47156C7.65375 2.34658 7.82329 2.27637 8.00006 2.27637C8.17684 2.27637 8.34638 2.34658 8.4714 2.47156L12.8621 6.86223C12.9553 6.95546 13.0187 7.07424 13.0445 7.20354C13.0702 7.33284 13.057 7.46686 13.0065 7.58866C12.9561 7.71046 12.8706 7.81457 12.761 7.88783C12.6514 7.96108 12.5226 8.0002 12.3907 8.00023H10.0001V12.0002H6.00006V8.00023Z\"\n          />\n          <path d=\"M6 14H10\" />\n        </svg>\n        Okay, upgrade token\n      </button>\n    {/if}\n  </div>\n</div>\n","export const getTitle = (attributes) => {\n  const shape = (attributes.find(({ trait_type }) => trait_type === 'shape') || {}).value\n  const title = shape ? 'Shapes' : 'Slashes'\n  const shapeName = shape || 'SlashesV1'\n  return [title, shapeName]\n}","<script>\n  import { clickOutside } from '../clickOutside.js'\n  import Attributes from './Attributes.svelte'\n  import ShareButtons from './ShareButtons.svelte'\n  import ChangeShape from './ChangeShape.svelte'\n  import ChangeSeed from './ChangeSeed.svelte'\n  import SwapSlash from './SwapSlash.svelte'\n  import { shownTokenId, isDoingSthImportant } from '../../store'\n  import { getTitle } from '../../lib/helpers'\n\n  export let tokenId\n  export let png\n  export let svg\n  export let congrats = false\n  export let upgradable = false\n  export let changeAllowed = false\n  export let attributes = []\n\n  const [title, shapeName] = getTitle(attributes)\n\n  function handleKeydown(e) {\n    if (e.key === 'Escape') close()\n  }\n\n  function close() {\n    if ($isDoingSthImportant) return\n    shownTokenId.set([0, false])\n    history.pushState(\"\", document.title, window.location.pathname); \n  }\n\n  function handleImageLoadError() {\n    // TODO: handle missing image\n    console.log('Image errored')\n  }\n</script>\n\n\n<svelte:window on:keydown={handleKeydown} />\n\n<div \n  class=\"inset-0 bg-black/80 z-20 fixed transition-colors duration-500 backdrop-blur-lg\" \n  on:click={close} \n  />\n\n<div class=\"relative z-40 group h-fit\" use:clickOutside on:click-outside={close}>\n  <div class=\"absolute w-full h-full placeholder\" />\n  <div\n    class=\"bg-gray-900 border rounded-lg border-white/10 text-gray-50 max-w-[calc(100vw-32px)] no-scrollbar transition-none h-full overscroll-contain overflow-auto lg:overflow-hidden fixed !top-1/2 !left-1/2 !w-[calc(60vh+400px)] !h-[90vh] -translate-x-1/2 -translate-y-1/2 p-6 rounded-2xl\"\n  >\n    <div class=\"relative z-20 bg-gray-800 aspect-2/3 lg:max-h-full mx-auto lg:mx-0 max-h-[80%] rounded-lg\">\n      <img\n        src={png}\n        class=\"object-cover w-full h-full rounded-lg\"\n        alt=\"Slashes #{tokenId}\"\n        on:error={handleImageLoadError}\n      />\n    </div>\n    <div class=\"lg:absolute lg:right-0 lg:top-0 lg:w-[400px] lg:h-[calc(100%-0.5rem)] mt-1\">\n      <div>\n        <div\n          class=\"hidden lg:block absolute left-0 z-10 w-full h-32 -mt-px pointer-events-none -top-1 bg-gradient-to-b from-gray-900\"\n        />\n        <div\n          class=\"hidden lg:block absolute left-0 z-10 w-full h-32 -mt-px pointer-events-none -top-1 bg-gradient-to-b from-gray-900\"\n        />\n        <div\n          class=\"hidden lg:block absolute left-0 z-10 w-full h-32 -mt-px pointer-events-none -bottom-1 bg-gradient-to-t from-gray-900\"\n        />\n        <div\n          class=\"hidden lg:block absolute left-0 z-10 w-full h-32 -mt-px pointer-events-none -bottom-1 bg-gradient-to-t from-gray-900\"\n        />\n        <div\n          class=\"absolute z-30 items-center gap-2 p-2 transition rounded-lg cursor-pointer right-4 top-2 text-white/40 hover:bg-white/5 hidden lg:flex\"\n          on:click|stopPropagation={close}\n        >\n          Close\n          <kbd class=\"px-1 py-0.5 font-sans text-xs rounded bg-white/10\">esc</kbd>\n        </div>\n        <div\n        class=\"lg:absolute lg:top-0 z-0 w-full h-full lg:py-32 pb-12 overflow-auto overscroll-contain transition-all duration-500 lg:-translate-x-1/2 lg:left-1/2 no-scrollbar delay-200\"\n        >\n        {#if congrats} \n        <div class=\" p-8 rounded-lg -mx-8 relative overflow-hidden\">\n          <h2 class=\"text-[#F6B855] text-center text-xl\">\n            Here is your new shape. \n            <br /> \n            Congrats!\n          </h2>\n        </div>\n        {/if}\n\n          <div class=\"w-64 mx-auto max-w-full\">\n            <div class=\"space-y-2\">\n              <h1 class=\"text-2xl lg:text-3xl text-center\">{title} #{tokenId}</h1>\n              <h2 class=\"flex justify-center items-center gap-2 text-gray-400\">\n                <svg\n                  class=\"w-5 h-5 stroke-current\"\n                  viewBox=\"0 0 16 16\"\n                  fill=\"none\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  stroke-width=\"1.25\"\n                  stroke-linecap=\"round\"\n                  stroke-linejoin=\"round\"\n                >\n                  <path\n                    d=\"M4.33333 6.66667C5.622 6.66667 6.66667 5.622 6.66667 4.33333C6.66667 3.04467 5.622 2 4.33333 2C3.04467 2 2 3.04467 2 4.33333C2 5.622 3.04467 6.66667 4.33333 6.66667Z\"\n                  />\n                  <path d=\"M1.6665 14.0002H6.99984L4.33317 9.3335L1.6665 14.0002Z\" />\n                  <path d=\"M9.3335 2L14.0002 6.66667\" />\n                  <path d=\"M9.3335 6.66667L14.0002 2\" />\n                  <path d=\"M9.3335 9.3335H14.0002V14.0002H9.3335V9.3335Z\" />\n                </svg>\n                <span class=\"text-lg lg:text-xl first-letter:capitalize\">{shapeName}</span>\n              </h2>\n            </div>\n\n            <!-- Swap change etc -->\n            {#if changeAllowed}\n              <div class=\"h-px max-w-full mx-auto my-12 w-96 bg-gradient-to-r from-transparent via-white/20\" />\n              <ChangeSeed {tokenId} />\n              <ChangeShape {tokenId} />\n            {/if}\n\n            {#if upgradable}\n              <div class=\"h-px max-w-full mx-auto my-12 w-96 bg-gradient-to-r from-transparent via-white/20\" />\n              <SwapSlash {tokenId} />\n            {/if}\n\n            <!-- Twitter etc -->\n            <div class=\"h-px max-w-full mx-auto my-12 w-96 bg-gradient-to-r from-transparent via-white/20\" />\n            <ShareButtons {tokenId} {png} {svg} />\n\n            {#if attributes.length}\n              <div class=\"h-px max-w-full mx-auto my-12 w-96 bg-gradient-to-r from-transparent via-white/20\" />\n              <Attributes {attributes} />\n            {/if}\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n","<script>\n  import { get } from 'svelte/store';\n  import { shapes } from '../store'\n  import { fetchToken } from '../lib/api'\n  import { PROD_API_BASE_URL, DEV_API_BASE_URL } from '../lib/constants'\n\n  import Modal from '../components/Shape/Modal.svelte'\n\n  // props\n  export let tokenId = 0\n  export let congrats = false\n  \n  const changeAllowed = false\n\n  // no default\n  export let png = ''\n  export let svg = ''\n\n  // parse dev server URL\n  if (process.env.USE_LOCALHOST) {\n    png = png.replace(PROD_API_BASE_URL, DEV_API_BASE_URL)\n    svg = svg.replace(PROD_API_BASE_URL, DEV_API_BASE_URL)\n  }\n\n  function getSingleToken() {\n    return new Promise((resolve, reject) => {\n      const existingShapeIndex = get(shapes)\n        .map(({tokenId: id }) => id)\n        .indexOf(tokenId)\n      if(existingShapeIndex !== -1 ) {\n        resolve(get(shapes)[existingShapeIndex])\n      } else {\n        fetchToken(tokenId)\n          .then(token => resolve(token))\n          .catch(err => reject(err))\n      }\n    })\n  }\n\n</script>\n\n{#await getSingleToken()}\n  loading...\n{:then {png, svg, attributes}}\n  {#if png}\n  <Modal\n    {tokenId}\n    {png}\n    {svg}\n    {attributes}\n    {changeAllowed}\n    {congrats}\n  /> \n  {:else}\n    No token with id {tokenId} found.\n  {/if}\n{:catch}\n  An error occured while fetching the token...\n{/await}\n\n\n","<script>\n  import { get } from 'svelte/store';\n  import { slashes, mySlashesIds } from '../store'\n  import { getSlashesPNG, getSlashesSVG } from '../lib/api'\n\n  import Modal from '../components/Shape/Modal.svelte'\n\n  // props\n  export let tokenId = 0\n  let upgradable = true\n  const changeAllowed = false\n  \n  function getSingleToken() {\n    return new Promise((resolve) => {\n      // check if upgradable\n      upgradable = get(mySlashesIds).includes(tokenId)\n\n      // get token\n      const existingSlashIndex = get(slashes).map(({tokenId}) => tokenId).indexOf(tokenId)\n      const token = get(slashes)[existingSlashIndex]\n\n      // images \n      const png = getSlashesPNG(tokenId)\n      const svg = getSlashesSVG(tokenId)\n\n      resolve({...token, png, svg})\n    })\n  }\n</script>\n\n{#await getSingleToken()}\n  loading...\n{:then {png, svg, attributes}}\n  {#if png}\n  <Modal\n    {tokenId}\n    {png}\n    {svg}\n    {upgradable}\n    {attributes}\n    {changeAllowed}\n  /> \n  {:else}\n    No token with id {tokenId} found.\n  {/if}\n{:catch}\n  An error occured while fetching the token...\n{/await}\n\n\n","<div class=\"relative z-10 bg-gray-800 aspect-2/3 max-h-full\">\n  <div class=\"w-full h-full flex items-center justify-center\">\n    <div class=\"animate-spin text-gray-400\">\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        viewBox=\"0 0 24 24\"\n        stroke-linecap=\"round\"\n        stroke-linejoin=\"round\"\n        class=\"w-6 h-6 stroke-current fill-transparent\"\n      >\n        <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\" />\n        <path d=\"M12 3a9 9 0 1 0 9 9\" />\n      </svg>\n    </div>\n  </div>\n</div>\n\n<div class=\"p-4 transition-opacity duration-500 opacity-0 pointer-events-none\">\n  <p>Loading…</p>\n  <p class=\"flex items-center gap-1 pt-1 text-sm text-gray-400\">\n    <span class=\"first-letter:capitalize\">Loading…</span>\n  </p>\n</div>","<script>\n  import { getTitle } from '../../lib/helpers'\n  import Loading from './Loading.svelte'\n\n  export let png\n  export let tokenId\n  export let loading = false\n  export let attributes = []\n  export let upgradable = false\n  export let changeAllowed = false\n\n  const [title, shapeName] = getTitle(attributes)\n\n  function handleClick() {\n    window.location.hash = `${shapeName === 'SlashesV1' ? 'slashes-' : ''}${tokenId}`\n  }\n\n  // TODO: handle missing image\n  function handleImageLoadError() {\n    console.log('Image errored')\n  }\n</script>\n\n{#if loading}\n  <Loading />\n{:else}\n\n\n<div class=\"relative z-0 group h-fit\" on:click={handleClick}>\n  <!-- <div class=\"absolute w-full h-full placeholder\" /> -->\n  <div class=\"bg-gray-900 border rounded-lg border-white/10 text-gray-50 max-w-[calc(100vw-32px)] no-scrollbar overflow-hidden transition-all duration-200 cursor-pointer group-hover:scale-105 hover:bg-gray-800\">\n    <div class=\"relative z-20 bg-gray-800 aspect-2/3 lg:max-h-full mx-auto lg:mx-0 max-h-[80%]\">\n      <img\n        src={png}\n        class=\"object-cover w-full h-full\"\n        alt=\"Slashes #{tokenId}\"\n        on:error={handleImageLoadError}\n      />\n    </div>\n    <div class=\"p-4 pointer-events-none\">\n      <p>{title} #{tokenId}</p>\n      <p class=\"flex items-center gap-1 pt-1 text-sm text-gray-400\">\n        <svg\n          class=\"w-4 h-4 stroke-current pt-0.5\"\n          viewBox=\"0 0 16 16\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          stroke-width=\"1.25\"\n          stroke-linecap=\"round\"\n          stroke-linejoin=\"round\"\n        >\n          <path\n            d=\"M4.33333 6.66667C5.622 6.66667 6.66667 5.622 6.66667 4.33333C6.66667 3.04467 5.622 2 4.33333 2C3.04467 2 2 3.04467 2 4.33333C2 5.622 3.04467 6.66667 4.33333 6.66667Z\"\n          />\n          <path d=\"M1.6665 14.0002H6.99984L4.33317 9.3335L1.6665 14.0002Z\" />\n          <path d=\"M9.3335 2L14.0002 6.66667\" />\n          <path d=\"M9.3335 6.66667L14.0002 2\" />\n          <path d=\"M9.3335 9.3335H14.0002V14.0002H9.3335V9.3335Z\" />\n        </svg>\n\n        <span class=\"first-letter:capitalize\">{shapeName ? shapeName : 'Slashes V1'}</span>\n      </p>\n      {#if changeAllowed}\n        <button\n          class=\"mt-4 w-full gap-1 bg-[#F6B855] text-black rounded flex items-center justify-center p-2 text-sm hover:brightness-110\"\n        >\n          <svg\n            class=\"flex-none w-4 h-4 stroke-current\"\n            viewBox=\"0 0 16 16\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            stroke-width=\"1.25\"\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n          >\n            <path\n              d=\"M6.00006 8.00023H3.6094C3.47756 8.0002 3.3487 7.96108 3.23909 7.88783C3.12948 7.81457 3.04406 7.71046 2.99361 7.58866C2.94316 7.46686 2.92996 7.33284 2.95567 7.20354C2.98139 7.07424 3.04486 6.95546 3.13806 6.86223L7.52873 2.47156C7.65375 2.34658 7.82329 2.27637 8.00006 2.27637C8.17684 2.27637 8.34638 2.34658 8.4714 2.47156L12.8621 6.86223C12.9553 6.95546 13.0187 7.07424 13.0445 7.20354C13.0702 7.33284 13.057 7.46686 13.0065 7.58866C12.9561 7.71046 12.8706 7.81457 12.761 7.88783C12.6514 7.96108 12.5226 8.0002 12.3907 8.00023H10.0001V12.0002H6.00006V8.00023Z\"\n            />\n            <path d=\"M6 14H10\" />\n          </svg>\n          Seed / Shape\n        </button>\n      {/if}\n      {#if upgradable}\n        <button\n          class=\"mt-4 w-full gap-1 bg-[#F6B855] text-black rounded flex items-center justify-center p-2 text-sm hover:brightness-110 transition-all duration-150\"\n        >\n          <svg\n            class=\"flex-none w-4 h-4 stroke-current\"\n            viewBox=\"0 0 16 16\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            stroke-width=\"1.25\"\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n          >\n            <path\n              d=\"M6.00006 8.00023H3.6094C3.47756 8.0002 3.3487 7.96108 3.23909 7.88783C3.12948 7.81457 3.04406 7.71046 2.99361 7.58866C2.94316 7.46686 2.92996 7.33284 2.95567 7.20354C2.98139 7.07424 3.04486 6.95546 3.13806 6.86223L7.52873 2.47156C7.65375 2.34658 7.82329 2.27637 8.00006 2.27637C8.17684 2.27637 8.34638 2.34658 8.4714 2.47156L12.8621 6.86223C12.9553 6.95546 13.0187 7.07424 13.0445 7.20354C13.0702 7.33284 13.057 7.46686 13.0065 7.58866C12.9561 7.71046 12.8706 7.81457 12.761 7.88783C12.6514 7.96108 12.5226 8.0002 12.3907 8.00023H10.0001V12.0002H6.00006V8.00023Z\"\n            />\n            <path d=\"M6 14H10\" />\n          </svg>\n          Upgrade token\n        </button>\n      {/if}\n    </div>\n  </div>\n</div>\n{/if}","<script>\n  import { onMount } from 'svelte'\n  import { signerAddress } from 'svelte-ethers-store'\n\n  import { mySlashesIds, mySlashes } from '../store'\n\n  import Thumbnail from '../components/Shape/Thumbnail.svelte'\n  import { getSlashesPNG, getSlashesSVG } from '../lib/api'\n\n  export let slashesContract\n\n  let balance = 0\n  // let tokens = []\n  onMount(async function () {\n    balance = await slashesContract.balanceOf($signerAddress)\n    const tokenIds = await Promise.all(\n      Array(balance.toNumber())\n        .fill(0)\n        .map((_, i) => slashesContract.tokenOfOwnerByIndex($signerAddress, i))\n    )\n    mySlashesIds.set(tokenIds.map(d => d.toNumber()))\n    // tokens = get(slashes).filter(({ tokenId }) => tokenIds.map((d) => d.toNumber()).includes(tokenId))\n  })\n</script>\n\n<div class=\"h-0.5 mx-auto mt-16 md:mt-24 max-w-full mb-12 w-96 bg-gradient-to-r from-transparent via-white/20\" />\n\n<h3 class=\"text-lg font-semibold text-gray-50\">My Slashes ({$mySlashesIds.length})</h3>\n\n<p class=\"max-w-xl mt-2 text-sm leading-relaxed text-gray-400\">\n  These are the $SLASHES tokens you owned from the previous contract.\n</p>\n\n<section class=\"grid grid-cols-2 gap-4 mt-8 sm:gap-6 md:gap-8 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-6 p-3 -mx-3\">\n  {#each $mySlashes as { tokenId }}\n    <div>\n      <Thumbnail\n        {tokenId}\n        png={getSlashesPNG(tokenId)}\n        upgradable={true}\n      />\n    </div>\n  {/each}\n</section>\n","<script>\n  import { onMount } from 'svelte'\n  import { signerAddress } from 'svelte-ethers-store'\n  import { myShapes } from '../store'\n  import { fetchShapesByIds } from '../lib/api'\n  import Thumbnail from '../components/Shape/Thumbnail.svelte'\n\n  export let shapesContract\n\n  let balance = 0\n  // let tokens = []\n  onMount(async function () {\n    const balanceOf = await shapesContract.balanceOf($signerAddress)\n    balance = balanceOf.toNumber()\n    if (balance) {\n      const tokenIds = await Promise.all(\n        Array(balance)\n          .fill(0)\n          .map((_, i) => shapesContract.tokenOfOwnerByIndex($signerAddress, i))\n      )\n      const tokens = await fetchShapesByIds(tokenIds.map(d => d.toNumber()))\n      myShapes.set(tokens)\n    }\n  })\n</script>\n\n<div class=\"h-0.5 mx-auto mt-16 md:mt-24 max-w-full mb-12 w-96 bg-gradient-to-r from-transparent via-white/20\" />\n\n<h3 class=\"text-lg font-semibold text-gray-50\">My Shapes ({$myShapes.length})</h3>\n\n<p class=\"max-w-xl mt-2 text-sm leading-relaxed text-gray-400\">These are the $SHAPES tokens you own.</p>\n\n<section class=\"grid grid-cols-2 gap-4 mt-8 sm:gap-6 md:gap-8 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-6 p-3 -mx-3\">\n  {#each $myShapes as { tokenId, png, svg, attributes, loading }}\n    <div>\n      <Thumbnail {tokenId} {png} {attributes} />\n    </div>\n  {/each}\n</section>\n","<script>\n  import { searchTerm, filterShapeType, shapes } from '../store'\n  \n  export let count\n  let search\n  let selected\n\n\n  function handleSearchChange() {\n    searchTerm.set(search)\n  }\n\n  function handleFilterChange() {\n    filterShapeType.set(selected)\n  }\n\n</script>\n\n<div class=\"h-0.5 mx-auto mt-16 md:mt-24 max-w-full mb-12 w-96 bg-gradient-to-r from-transparent via-white/20\" />\n<div class=\"items-center justify-between md:flex\">\n  <h3 class=\"mb-4 text-lg font-semibold text-gray-50 md:mb-0\">\n    All Shapes ({$shapes.length}/{count})\n  </h3>\n  <div class=\"max-w-full gap-4 w-fit sm:w-auto sm:flex sm:gap-6 xl:gap-8\">\n    <div class=\"relative inline-flex items-center w-full gap-1 px-2 mb-2 bg-gray-600 rounded-lg sm:mb-0 sm:w-auto\">\n      <div class=\"absolute inset-0 w-full h-px bg-gradient-to-r from-transparent via-white/20\" />\n\n      <svg\n        class=\"flex-none w-6 h-6 stroke-current\"\n        viewBox=\"0 0 24 24\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        stroke-width=\"1.5\"\n        stroke-linecap=\"round\"\n        stroke-linejoin=\"round\"\n      >\n        <path\n          d=\"M10 17C13.866 17 17 13.866 17 10C17 6.13401 13.866 3 10 3C6.13401 3 3 6.13401 3 10C3 13.866 6.13401 17 10 17Z\"\n        />\n        <path d=\"M21 21L15 15\" />\n      </svg>\n\n      <input\n        type=\"text\"\n        placeholder=\"Search by ID…\"\n        class=\"p-2 bg-transparent outline-none\"\n        bind:value={search}\n        on:input={handleSearchChange}\n      />\n    </div>\n\n    <!-- <div class=\"relative flex items-baseline max-w-full pr-2 bg-gray-600 rounded-lg\">\n      <div class=\"absolute inset-0 w-full h-px bg-gradient-to-r from-transparent via-white/20\" />\n      <span class=\"absolute top-0 flex items-center h-full gap-2 left-3\">\n        <svg\n          class=\"w-6 h-6 stroke-current\"\n          viewBox=\"0 0 24 24\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          stroke-width=\"1.5\"\n          stroke-linecap=\"round\"\n          stroke-linejoin=\"round\"\n        >\n          <path\n            d=\"M6 12C7.10457 12 8 11.1046 8 10C8 8.89543 7.10457 8 6 8C4.89543 8 4 8.89543 4 10C4 11.1046 4.89543 12 6 12Z\"\n          />\n          <path d=\"M6 4V8\" />\n          <path d=\"M6 12V20\" />\n          <path\n            d=\"M12 18C13.1046 18 14 17.1046 14 16C14 14.8954 13.1046 14 12 14C10.8954 14 10 14.8954 10 16C10 17.1046 10.8954 18 12 18Z\"\n          />\n          <path d=\"M12 4V14\" />\n          <path d=\"M12 18V20\" />\n          <path\n            d=\"M18 9C19.1046 9 20 8.10457 20 7C20 5.89543 19.1046 5 18 5C16.8954 5 16 5.89543 16 7C16 8.10457 16.8954 9 18 9Z\"\n          />\n          <path d=\"M18 4V5\" />\n          <path d=\"M18 9V20\" />\n        </svg>\n        <span class=\"hidden sm:block\">Edition:</span>\n      </span>\n\n       <select\n        name=\"edition\"\n        id=\"edition\"\n        class=\"relative w-full h-full py-2 pr-3 pl-10 sm:pl-[6.5rem] bg-transparent outline-none\"\n        bind:value={selected}\n        on:change={handleFilterChange}\n      >\n        <option value=\"all\" selected>All</option>\n        <option value=\"Slashes v2\">Slashes v2</option>\n        <option value=\"Arcs\">Arcs</option>\n      </select>\n    </div> -->\n  </div>\n</div>\n","<script>\n  import { onMount } from 'svelte'\n  import { SHAPES_PER_PAGE } from '../lib/constants'\n  import Search from '../components/Search.svelte'\n  import Thumbnail from '../components/Shape/Thumbnail.svelte'\n  import { fetchShapes, fetchCount } from '../lib/api'\n  import { shapes, filteredShapes } from '../store'\n\n  let backdrop = false\n\n  // default values\n  let loading = false\n  let offset = 0\n  let limit = SHAPES_PER_PAGE\n\n  async function handleClickLoadMore() {\n    offset = $shapes.length\n    limit = offset + SHAPES_PER_PAGE\n    // console.log({ offset, limit })\n    const newShapes = await fetchShapes(limit, offset)\n    shapes.set([...$shapes, ...newShapes])\n  }\n\n  let totalSupply\n  onMount(async () => {\n    totalSupply = await fetchCount()\n  })\n</script>\n\n<Search count={totalSupply} />\n\n<div\n  class=\"z-50 fixed top-8 sm:top-16 right-8 transition-opacity lg:hidden w-12 h-12 flex items-center justify-center bg-gray-800 text-gray-200 hover:text-white border-gray-700 rounded-lg shadow border duration-300 hover:bg-gray-700 cursor-pointer {backdrop\n    ? 'delay-500'\n    : 'opacity-0 pointer-events-none'}\"\n>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    stroke-width=\"1.5\"\n    stroke-linecap=\"round\"\n    stroke-linejoin=\"round\"\n    class=\"w-6 h-6 fill-transparent stroke-current\"\n  >\n    <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" />\n    <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" />\n  </svg>\n</div>\n\n<section\n  class=\"grid grid-cols-2 gap-4 mt-8 sm:gap-6 md:gap-8 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-6 p-3 -mx-3 {backdrop\n    ? ''\n    : 'overflow-hidden'}\"\n>\n  {#each $filteredShapes as { tokenId, png, attributes }}\n    <Thumbnail {tokenId} {png} {attributes}/>\n  {/each}\n</section>\n\n{#if $filteredShapes.length >= limit}\n  <div class=\"flex justify-center\">\n    <button\n      type=\"button\"\n      class=\"relative py-4 px-12 mt-24 text-sm font-medium text-gray-200 hover:text-white hover:text-gray rounded-lg border border-white/10 bg-white/10 hover:bg-white/15 inline-flex items-center transition-colors duration-150\"\n      on:click={handleClickLoadMore}\n    >\n      <div class=\"absolute inset-0 -top-px w-full h-px bg-gradient-to-r from-transparent via-white/20\" />\n      {#if loading}\n        <svg\n          role=\"status\"\n          viewBox=\"0 0 100 101\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          class=\"inline w-4 h-4 mr-2 text-gray-200 animate-spin dark:text-gray-600\"\n        >\n          <path\n            d=\"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z\"\n            fill=\"currentColor\"\n          />\n          <path\n            d=\"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z\"\n            fill=\"#1C64F2\"\n          />\n        </svg>\n      {/if}\n      Load more\n    </button>\n  </div>\n{/if}\n","<script>\n  import { onMount } from 'svelte'\n\n  // components\n  import Header from './components/Header.svelte'\n  import Footer from './components/Footer.svelte'\n  import ConnectWallet from './components/ConnectWallet.svelte'\n  import InfoBubbles from './components/InfoBubbles.svelte'\n  import Message from './components/Message.svelte'\n  import Prompt from './components/Prompt.svelte'\n\n  // import Countdown from './components/Countdown.svelte'\n  import SingleShape from './layouts/SingleShape.svelte'\n  import SingleSlash from './layouts/SingleSlash.svelte'\n\n  // advanced components\n  import MySlashes from './layouts/MySlashes.svelte'\n  import MyShapes from './layouts/MyShapes.svelte'\n  import AllShapes from './layouts/AllShapes.svelte'\n\n  import { contracts } from 'svelte-ethers-store'\n  import { shownTokenId } from './store'\n  \n  import { CURRENT_UI_SHAPE } from './lib/constants';\n  \n  // contracts\n  let shapesContract\n  let slashesContract\n  contracts.subscribe(({ shapes, slashes }) => {\n    shapesContract = shapes\n    slashesContract = slashes\n  })\n\n  // set shown token id\n  let isSlashes\n  let isCongrats\n  function handleHashChange() {\n    const hash = window.location.hash\n    isSlashes = hash.includes('slashes')\n    isCongrats = hash.includes('congrats')\n    const tokenId = parseInt(\n      hash.slice(\n        // remove prefix if specified\n        isSlashes ? 1 + 'slashes-'.length\n        :\n        isCongrats? 1 + 'congrats-'.length\n        :\n        1\n      )\n    )\n    console.log(tokenId || 'no token id', isSlashes)\n    if(!isNaN(tokenId)) {\n      shownTokenId.set([tokenId, isSlashes])\n    }\n  }\n\n  // fired when url hash changes\n  let isLoaded = false\n  onMount(() => {\n    handleHashChange()\n    setTimeout(() => {\n      isLoaded = true\n    }, 0)\n\n  })\n\n  // pick the correct token type\n  export const defaultShapeType = CURRENT_UI_SHAPE\n</script>\n\n<svelte:window on:hashchange={handleHashChange} />\n\n<div class=\"px-4 bg-gray-900 pt-32 xl:pt-40 sm:px-6 md:px-8\">\n  <div class=\"transition-opacity duration-1000 delay-500 {isLoaded ? '' : 'opacity-0'}\">\n    <div class=\"fixed w-full top-0 right-0 p-2 md:translate-x-0 md:p-8 z-30 text-right pointer-events-none\">\n      <div class=\"flex flex-col gap-2 md:gap-4 items-center md:items-end\">\n        <ConnectWallet />\n        <Message />\n      </div>\n    </div>\n\n    <div class=\"max-w-4xl mx-auto xl:max-w-7xl text-gray-50\">\n      <img src=\"./images/bg.png\" alt=\"Background\" class=\"absolute top-0 w-auto -translate-x-1/2 left-1/2\" />\n\n      <div class=\"relative\">\n        <!-- Show a single token -->\n        {#if $shownTokenId[0] !== 0}\n          {#if $shownTokenId[1] === true}\n            <SingleSlash tokenId={$shownTokenId[0]}/>\n          {:else}\n            <SingleShape tokenId={$shownTokenId[0]} congrats={isCongrats}/>\n          {/if}\n        {/if}\n\n        <Header shapeType={defaultShapeType} />\n\n        <!-- <section class=\"text-center\">\n          <Countdown />\n        </section> -->\n\n        <InfoBubbles />\n\n        <Prompt {isLoaded}/>\n\n        {#if slashesContract && shapesContract}\n          <MySlashes {slashesContract} />\n        {/if}\n\n        {#if shapesContract}\n          <MyShapes {shapesContract} />\n        {/if}\n\n        <!-- Show all shapes from API -->\n        <AllShapes />\n\n      </div>\n    </div>\n  </div>\n</div>\n<Footer />\n","import './app.css'\nimport App from './App.svelte'\n\nconst app = new App({\n  target: document.getElementById('app'),\n})\n\nexport default app\n"],"names":["create_if_block_1","create_if_block","ethers.utils.parseEther","Buffer","ethers.providers.Web3Provider","create_if_block_3","create_if_block_2","get","handleImageLoadError","changeAllowed"],"mappings":"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"}